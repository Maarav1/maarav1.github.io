<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script>
        // Handle all routes and redirect properly
        const path = window.location.pathname;
        const search = window.location.search;
        const hash = window.location.hash;
        
        console.log('404 page - Original path:', path);
        
        // Extract from paths like: /denis-marav/post/123
        const segments = path.split('/').filter(segment => segment);
        
        if (segments.length >= 3) {
            const repoName = segments[0]; // denis-marav
            const type = segments[1]; // post, profile, user
            const id = segments[2]; // the ID
            
            if (['post', 'profile', 'user'].includes(type)) {
                // Redirect with hash parameters
                window.location.href = `/${search}#${type}=${id}`;
                console.log('Redirecting to:', `/${search}#${type}=${id}`);
                return;
            }
        }
        
        // For all other cases, redirect to home
        window.location.href = `/${search}${hash}`;
        console.log('Redirecting to home:', `/${search}${hash}`);
    </script>
</head>
<body>
    <noscript>
        <h1>Page Not Found</h1>
        <p>This page requires JavaScript to redirect properly.</p>
        <p><a href="/">Go to Home Page</a></p>
    </noscript>
    
    <div style="text-align: center; margin-top: 50px;">
        <h2>Redirecting...</h2>
        <p>If you are not redirected automatically, <a href="/">click here</a>.</p>
    </div>
</body>
</html>
